
# qa_python

## Тестирование класса BooksCollector

Проект четвертого спринта содержит тесты для класса `BooksCollector`, который управляет коллекцией книг, их жанрами и добавлением книг в избранное.

### Структура проекта

```bash
qa_python/
├── main.py          # Класс BooksCollector
├── tests.py         # Тесты, покрывающие методы класса
└── README.md        # Документация проекта
```

### Реализованные тесты

1. Параметризованный тест **test_add_new_book** проверяет добавление книг с разной длиной названия:
* валидные названия (1-40 символов)
* невалидные названия (0 и >40 символов)
* граничные значения: 1, 39, 40, 41, 42, 100 символов
* пустая строка

2. **test_add_new_book_cannot_add_same_book_twice** проверяет, что нельзя добавить одну книгу дважды


3. Параметризованный тест  **test_set_book_genre** проверяет установку жанров:
* валидные жанры: Фантастика, Ужасы, Детективы, Мультфильмы, Комедии
* невалидные жанры (например, "Героический эпос")

4. Параметризованный тест **test_get_book_genre_returns_genre** проверяет получение жанра по названию книги

5. Параметризованный тест **test_get_books_with_specific_genre** проверяет поиск книг по жанру:
* существующие жанры с книгами
* существующие жанры с пустым списком
* несуществующие жанры

6. **test_get_books_genre_with_books** проверяет получение всего словаря книг и жанров

7. **test_get_books_for_children** проверяет фильтрацию книг по возрастному рейтингу:
* книги без возрастного рейтинга (Фантастика, Мультфильмы, Комедии)
* книги с возрастным рейтингом (Ужасы, Детективы)

8. **test_add_book_in_favorites** проверяет добавление книги в избранное

9. **test_add_duplicate_to_favorites** проверяет, что нельзя добавить книгу в избранное дважды

10. **test_delete_book_from_favorites** проверяет удаление книги из избранного

11. **test_get_list_of_favorites_books_empty** проверяет возврат пустого списка избранного

12. **test_get_list_of_favorites_books_with_books** проверяет возврат списка избранных книг


### Фикстуры

#### collector
Создает чистый экземпляр BooksCollector для каждого теста

#### collector_with_books
Создает предварительно заполненный экземпляр с 5 книгами

### Покрытие функциональности

#### Методы класса BooksCollector:

`add_new_book()` - добавление новой книги

`set_book_genre()` - установка жанра книги

`get_book_genre()` - получение жанра книги

`get_books_with_specific_genre()` - поиск книг по жанру

`get_books_genre()` - получение всего словаря книг

`get_books_for_children()` - фильтрация книг для детей

`add_book_in_favorites()` - добавление в избранное

`delete_book_from_favorites()` - удаление из избранного

`get_list_of_favorites_books()` - получение списка избранного


### Пример запуска тестов

```bash
$ pytest -v tests.py 
tests.py::TestBooksCollector::test_add_new_book[\u041f\u0440\u043e\u043b\u0435\u0442\u0430\u044f \u043d\u0430\u0434 \u0433\u043d\u0435\u0437\u0434\u043e\u043c \u043a\u0443\u043a\u0443\u0448\u043a\u0438-True] PASSED [  3%]
tests.py::TestBooksCollector::test_add_new_book[\u0410-True] PASSED                                                                                                  [  6%]
tests.py::TestBooksCollector::test_add_new_book[\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410-True] PASSED [  9%]
tests.py::TestBooksCollector::test_add_new_book[\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410\u0410-True] PASSED [ 12%]
...
```

